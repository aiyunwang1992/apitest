{"name": "test_case[param0]", "status": "broken", "statusDetails": {"message": "AttributeError: 'str' object has no attribute 'items'", "trace": "self = <testcases.test_case.TestCases object at 0x0000029D11AE4390>\nparam = {'excepted_code': 0, 'header': \"{'language':'zh-CN'}\", 'id': 0, 'method': 'get', ...}\n\n    @allure.story('接口测试')\n    def test_case(self,param):\n        with allure.step(param['title']):\n            #将上一个接口的出参传递到下一个接口\n            #传递ticket\n            if  SaveValue.TICKET !='':\n                reg.regular('TICKET',SaveValue.TICKET,param['param'])\n            #传递token到header\n            if param['type']==3 and SaveValue.TOKEN !='':\n                param['header']['token']=SaveValue.TOKEN\n            #发起请求\n>           re=Request().httprequest(param['url'],eval(param['param']),param['method'],param['header'])\n\ntestcases\\test_case.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ncommon\\http_request.py:16: in httprequest\n    raise e\ncommon\\http_request.py:11: in httprequest\n    result=requests.get(url,param,headers=header).json()\nC:\\Python\\Python37\\lib\\site-packages\\requests\\api.py:75: in get\n    return request('get', url, params=params, **kwargs)\nC:\\Python\\Python37\\lib\\site-packages\\requests\\api.py:60: in request\n    return session.request(method=method, url=url, **kwargs)\nC:\\Python\\Python37\\lib\\site-packages\\requests\\sessions.py:519: in request\n    prep = self.prepare_request(req)\nC:\\Python\\Python37\\lib\\site-packages\\requests\\sessions.py:462: in prepare_request\n    hooks=merge_hooks(request.hooks, self.hooks),\nC:\\Python\\Python37\\lib\\site-packages\\requests\\models.py:314: in prepare\n    self.prepare_headers(headers)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <PreparedRequest [GET]>, headers = \"{'language':'zh-CN'}\"\n\n    def prepare_headers(self, headers):\n        \"\"\"Prepares the given HTTP headers.\"\"\"\n    \n        self.headers = CaseInsensitiveDict()\n        if headers:\n>           for header in headers.items():\nE           AttributeError: 'str' object has no attribute 'items'\n\nC:\\Python\\Python37\\lib\\site-packages\\requests\\models.py:446: AttributeError"}, "steps": [{"name": "检查邀请人是否存在", "status": "broken", "statusDetails": {"message": "AttributeError: 'str' object has no attribute 'items'\n", "trace": "  File \"d:\\xiazai\\python\\project\\pyauto_apitest\\testcases\\test_case.py\", line 23, in test_case\n    re=Request().httprequest(param['url'],eval(param['param']),param['method'],param['header'])\n  File \"d:\\xiazai\\python\\project\\pyauto_apitest\\common\\http_request.py\", line 16, in httprequest\n    raise e\n  File \"d:\\xiazai\\python\\project\\pyauto_apitest\\common\\http_request.py\", line 11, in httprequest\n    result=requests.get(url,param,headers=header).json()\n  File \"C:\\Python\\Python37\\lib\\site-packages\\requests\\api.py\", line 75, in get\n    return request('get', url, params=params, **kwargs)\n  File \"C:\\Python\\Python37\\lib\\site-packages\\requests\\api.py\", line 60, in request\n    return session.request(method=method, url=url, **kwargs)\n  File \"C:\\Python\\Python37\\lib\\site-packages\\requests\\sessions.py\", line 519, in request\n    prep = self.prepare_request(req)\n  File \"C:\\Python\\Python37\\lib\\site-packages\\requests\\sessions.py\", line 462, in prepare_request\n    hooks=merge_hooks(request.hooks, self.hooks),\n  File \"C:\\Python\\Python37\\lib\\site-packages\\requests\\models.py\", line 314, in prepare\n    self.prepare_headers(headers)\n  File \"C:\\Python\\Python37\\lib\\site-packages\\requests\\models.py\", line 446, in prepare_headers\n    for header in headers.items():\n"}, "start": 1579511036583, "stop": 1579511036601}], "parameters": [{"name": "param", "value": "{'id': 0, 'type': 0, 'title': '检查邀请人是否存在', 'module': 'register', 'method': 'get', 'header': \"{'language':'zh-CN'}\", 'url': 'http://web.panda-inner.co/api/user/checkIntroUser', 'param': \"{'introUser':''}\", 'excepted_code': 0}"}], "start": 1579511036583, "stop": 1579511036604, "uuid": "0c5319a7-81f6-4e39-a7cd-92624e673956", "historyId": "2ab51ad0145ca0630b5d998ce49a9dc4", "testCaseId": "212f4c207e3aa5cea05ced55444bc5b1", "fullName": "testcases.test_case.TestCases#test_case", "labels": [{"name": "story", "value": "接口测试"}, {"name": "feature", "value": "panda的接口测试报告"}, {"name": "tag", "value": "flyback"}, {"name": "parentSuite", "value": "testcases"}, {"name": "suite", "value": "test_case"}, {"name": "subSuite", "value": "TestCases"}, {"name": "host", "value": "PC-20190814RYRX"}, {"name": "thread", "value": "14704-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.test_case"}]}